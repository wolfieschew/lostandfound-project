<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Playpen+Sans:wght@300;500&display=swap"
      rel="stylesheet"
    />
    <!-- Tailwind JS -->
    <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>
    <!-- bx bx-icons -->
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <!-- flowbite -->
    <link
      href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css"
      rel="stylesheet"
    />
    <!-- Tambahkan di bagian <head> -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <title>form-pelaporan-hilang</title>
  </head>

  <!-- Header Section -->

<body class="font-[Lato] h-screen">
  <header class="bg-white">
    <!-- Hanya header yang diberi sticky -->
    <nav class="flex justify-between items-center w-[90%] xl:w-[70%] mx-auto">
      <div>
        <img
          class="mb-3 mt-3 h-[4rem] sm:h-20 cursor-pointer"
          src="Assets/img/lostnfoundlogo.png"
          alt="..." />
      </div>
      <!-- Menu navigasi ini tetap absolute, tanpa kelas sticky -->
      <div
        class="nav-links duration-500 md:static absolute bg-white md:min-h-fit min-h-[60vh] left-0 top-[-100%] md:w-auto w-full flex items-center px-2 lg:px-5 z-10 text-xs lg:text-base z-20">
        <ul
          class="flex md:flex-row flex-col md:items-center md:gap-[4vw] gap-8">
          <li>
            <a
              class="hover:text-gray-500 border-b-4 border-[#124076] pb-2"
              href="#">Home</a>
          </li>
          </li>
          <li>
            <a class="hover:text-gray-500" href="message.php">Message</a>
          </li>
          <li>
            <a class="hover:text-gray-500" href="profile.php">Profile</a>
          </li>
          <li>
            <a class="hover:text-gray-500" href="activity.php">Activity</a>
          </li>
          <li>
            <a class="hover:text-gray-500" href="about-us.php">About us</a>
          </li>
        </ul>
      </div>
      <div class="flex items-center gap-6">
       <!-- Tombol Notifikasi -->
       <button id="notification-icon" type="button" class="relative text-[#124076] p-0 w-full h-full items-center rounded-[20%]">
        <i class="bx bxs-bell text-3xl"></i>
        <!-- Badge -->
          <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full px-2">
          </span>
      </button>
        </div>
      </nav>
    </header>
    <!-- Header Section -->

    <!-- Form Section -->
  <section class="bg-[#9BB3CD]">
    <main class="flex justify-center items-center py-12">
      <div class="bg-white shadow-lg rounded-lg p-8 w-full max-w-4xl">
        <form action="submit_report.php" method="POST" enctype="multipart/form-data">
          <!-- Type Section -->
          <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2">Is this item lost or found?</label>
            <div class="flex gap-4">
              <label class="flex items-center">
                <input type="radio" name="type" value="hilang" class="hidden peer" required>
                <span class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg peer-checked:bg-blue-500 peer-checked:text-white cursor-pointer">Lost</span>
              </label>
              <label class="flex items-center">
                <input type="radio" name="type" value="ditemukan" class="hidden peer" required>
                <span class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg peer-checked:bg-blue-500 peer-checked:text-white cursor-pointer">Found</span>
              </label>
            </div>
          </div>

          <!-- Upload Section -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-gray-700 text-sm font-bold mb-2">Take a photo of the item</label>
              <div class="border-dashed border-2 border-gray-300 rounded-lg p-6 flex items-center justify-center">
                <label class="cursor-pointer text-blue-500 hover:underline">
                  <!-- Tambahkan id="photo" -->
                  <input type="file" name="photo" id="photo" accept="image/*" class="hidden">
                  Click to Upload or Drag and Drop <br>
                  <span class="text-sm text-gray-500">Max. File size: 15MB</span>
                </label>
              </div>
              <!-- Tambahkan elemen img untuk preview gambar -->
              <img id="photo-preview" src="#" alt="Photo Preview" class="hidden mt-4 w-32 h-32 object-cover rounded-lg" />
            </div>

            <!-- Item Info Section -->
            <div>
              <label class="block text-gray-700 text-sm font-bold mb-2">What have you lost?</label>
              <input type="text" name="item_name" placeholder="Enter item name" class="w-full border rounded-lg p-2 mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500" required>

              <label class="block text-gray-700 text-sm font-bold mb-2">Select Category</label>
              <div class="flex flex-wrap gap-2">
                <label class="flex items-center">
                  <input type="radio" name="category" value="Perhiasan Khusus" class="hidden peer" required>
                  <span class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg peer-checked:bg-blue-500 peer-checked:text-white cursor-pointer">Perhiasan Khusus</span>
                </label>
                <label class="flex items-center">
                  <input type="radio" name="category" value="Elektronik" class="hidden peer" required>
                  <span class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg peer-checked:bg-blue-500 peer-checked:text-white cursor-pointer">Elektronik</span>
                </label>
                <label class="flex items-center">
                  <input type="radio" name="category" value="Buku & Dokumen" class="hidden peer" required>
                  <span class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg peer-checked:bg-blue-500 peer-checked:text-white cursor-pointer">Buku & Dokumen</span>
                </label>
                <label class="flex items-center">
                  <input type="radio" name="category" value="Aksesoris Pribadi" class="hidden peer" required>
                  <span class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg peer-checked:bg-blue-500 peer-checked:text-white cursor-pointer">Aksesoris Pribadi</span>
                </label>
              </div>
            </div>
          </div>


          <!-- Date Section -->
          <div class="mt-6">
            <label class="block text-gray-700 text-sm font-bold mb-2">Date of Loss</label>
            <input type="date" name="date_of_loss" class="w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500" required>
          </div>

          <!-- Description Section -->
          <div class="mt-6">
            <label class="block text-gray-700 text-sm font-bold mb-2">Description</label>
            <textarea name="description" placeholder="Provide details about the item" class="w-full border rounded-lg p-2 h-28 focus:outline-none focus:ring-2 focus:ring-blue-500" required></textarea>
          </div>

          <!-- Contact Section -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
            <div>
              <label class="block text-gray-700 text-sm font-bold mb-2">Contact Information</label>
              <div class="flex items-center border rounded-lg p-2 mb-4 focus-within:ring-2 focus-within:ring-blue-500">
                <i class='bx bxs-envelope text-[#004274] text-lg'></i>
                <input type="email" name="email" placeholder="Add your Email" 
                  class="w-full border-none focus:outline-none px-2" required>
              </div>              
              <div class="flex items-center border rounded-lg p-2 mb-4 focus-within:ring-2 focus-within:ring-blue-500">
                <i class='bx bxl-whatsapp text-green-500 text-lg'></i>
                <input type="text" name="phone_number" placeholder="+62" 
                  class="w-full border-none focus:outline-none px-2" required>
              </div>
            </div>

            <!-- Map Section -->
            <div class="mt-6">
              <label class="block text-gray-700 text-sm font-bold mb-2">Pin a Location</label>
              <div id="map" class="w-full h-64 bg-gray-200 rounded-lg"></div>
              <!-- Input tersembunyi untuk koordinat -->
              <input type="hidden" name="location" id="location-coordinates" value="-6.973250, 107.630339">
            </div>
          </div>

          <!-- Submit Button -->
          <div class="mt-6 text-center">
            <button id="submitReport" type="button" class="bg-[#124076] text-white px-6 py-2 rounded-lg">
                Submit
            </button>
          </div>
        </form>
      </div>
    </main>
  </section>
  <!-- End of Form Section -->



    <!-- Footer Section -->

    <footer class="bg-[#124076]">
      <div class="mx-auto w-full max-w-screen-xl p-4 py-6 lg:py-8">
        <div class="md:flex md:justify-between">
          <div class="mb-6 md:mb-0">
            <a href="#" class="flex items-center">
              <img
                src="Assets/img/lostnfoundlogowhite.png"
                class="h-28 me-3"
                alt="FlowBite Logo"
              />
            </a>
          </div>
          <div class="grid grid-cols-2 gap-8 sm:gap-6 sm:grid-cols-3">
            <div>
              <h2
                class="mb-6 text-sm font-semibold text-white uppercase dark:text-white"
              >
                About
              </h2>
              <ul class="text-white font-medium">
                <li class="mb-4">
                  <a href="https://flowbite.com/" class="hover:underline"
                    >About Lost and Found Items</a
                  >
                </li>
              </ul>
            </div>
            <div>
              <h2
                class="mb-6 text-sm font-semibold text-gray-900 uppercase dark:text-white"
              >
                Lost and Found Items
              </h2>
              <ul class="text-white font-medium">
                <li class="mb-4">
                  <a
                    href="https://github.com/themesberg/flowbite"
                    class="hover:underline"
                    >Lost Items</a
                  >
                </li>
                <li>
                  <a
                    href="https://discord.gg/4eeurUVvTy"
                    class="hover:underline"
                    >Found Items</a
                  >
                </li>
                <li>
                  <a
                    href="https://discord.gg/4eeurUVvTy"
                    class="hover:underline"
                    >Information about Lost and Found Items</a
                  >
                </li>
              </ul>
            </div>
            <div>
              <h2
                class="mb-6 text-sm font-semibold text-gray-900 uppercase dark:text-white"
              >
                Legal
              </h2>
              <ul class="text-white font-medium">
                <li class="mb-4">
                  <a href="#" class="hover:underline">Feedback</a>
                </li>
                <li>
                  <a href="#" class="hover:underline"
                    >Terms &amp; Conditions Lost and Found Items</a
                  >
                </li>
              </ul>
            </div>
          </div>
        </div>
        <hr class="my-6 border-white sm:mx-auto" />
        <div class="text-center sm:flex sm:items-center sm:justify-between">
          <span class="text-sm text-white text-center"
            >© 2024 <a href="/" class="hover:underline">Lost and Found Team</a>.
            All Rights Reserved.
          </span>
        </div>
      </div>
    </footer>

    <!-- Script JS  -->

    <script>
      const navLinks = document.querySelector(".nav-links");
      function onToggleMenu(e) {
        e.name = e.name === "menu" ? "close" : "menu";
        navLinks.classList.toggle("top-[11%]");
      }
    </script>

    <script>
      document.addEventListener("click", (e) => {
        // Dropdown 1
        const dropdownMenu1 = document.getElementById("dropdownMenu1");
        const dropdownButton1 = document.querySelector(
          'button[onclick="toggleDropdown1()"]'
        );

        if (
          !dropdownButton1.contains(e.target) &&
          !dropdownMenu1.contains(e.target)
        ) {
          dropdownMenu1.classList.add("hidden");
        }

        // Dropdown 2
        const dropdownMenu2 = document.getElementById("dropdownMenu2");
        const dropdownButton2 = document.querySelector(
          'button[onclick="toggleDropdown2()"]'
        );

        if (
          !dropdownButton2.contains(e.target) &&
          !dropdownMenu2.contains(e.target)
        ) {
          dropdownMenu2.classList.add("hidden");
        }
      });

      function toggleDropdown1() {
        const dropdownMenu1 = document.getElementById("dropdownMenu1");
        dropdownMenu1.classList.toggle("hidden");
      }

      function toggleDropdown2() {
        const dropdownMenu2 = document.getElementById("dropdownMenu2");
        dropdownMenu2.classList.toggle("hidden");
      }
    </script>
    <!-- Maps Pin --> 
    <script>
      // Koordinat Telkom University, Bandung
      const telkomUniversityCoords = [-6.973250, 107.630339];
    
      // Inisialisasi peta
      const map = L.map('map').setView(telkomUniversityCoords, 16); // Zoom level 16 untuk lebih detail
    
      // Tambahkan tile layer dari OpenStreetMap
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '© OpenStreetMap contributors'
      }).addTo(map);
    
      // Tambahkan marker di Telkom University
      const marker = L.marker(telkomUniversityCoords, { draggable: true }).addTo(map);
    
      // Perbarui koordinat saat marker dipindahkan
      marker.on('moveend', (e) => {
        const { lat, lng } = e.target.getLatLng();
        console.log(`Latitude: ${lat}, Longitude: ${lng}`);
        document.getElementById('location-coordinates').value = `${lat}, ${lng}`;
      });
    </script>

    <!-- Report Link -->
    <script>
      function toggleDropdown() {
        const dropdown = document.getElementById('dropdownContent');
        dropdown.classList.toggle('hidden'); // Menampilkan atau menyembunyikan dropdown
      }
    </script>

    <!-- Tambahkan skrip ini di bagian bawah sebelum </body> -->
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        const photoInput = document.getElementById('photo');
        const photoPreview = document.getElementById('photo-preview');

        photoInput.addEventListener('change', function(event) {
          const file = event.target.files[0];

          if (file) {
            // Periksa apakah file adalah gambar
            if (file.type.startsWith('image/')) {
              const reader = new FileReader();

              reader.onload = function(e) {
                photoPreview.src = e.target.result;
                photoPreview.classList.remove('hidden');
              }

              reader.readAsDataURL(file);
            } else {
              alert('Please upload a valid image file.');
              photoInput.value = ''; // Reset input file
              photoPreview.src = '#';
              photoPreview.classList.add('hidden');
            }
          } else {
            // Jika tidak ada file yang dipilih
            photoPreview.src = '#';
            photoPreview.classList.add('hidden');
          }
        });
      });
    </script>

    <!-- Sweetalert -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
      document.getElementById('submitReport').addEventListener('click', function () {
    Swal.fire({
        title: 'Kirim Laporan?',
        text: "Apakah Anda yakin ingin mengirimkan laporan ini?",
        icon: 'question',
        showCancelButton: true,
        confirmButtonColor: '#004274',
        cancelButtonColor: '#6e7881',
        confirmButtonText: 'Ya, kirim!',
        cancelButtonText: 'Batalkan',
    }).then((result) => {
        if (result.isConfirmed) {
            // Kirim form jika pengguna mengonfirmasi
            document.querySelector('form').submit();
        }
    });
});
    </script>


    <!-- Flowbite -->
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>
  </body>
</html>
